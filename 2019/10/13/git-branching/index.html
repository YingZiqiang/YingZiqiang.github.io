<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Git的杀手锏：分支模型（上） | yingzq&#39;s Blog | 练习bug时长两年半的实习生</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Git">
    <meta name="description" content="几乎所有的版本控制系统都以某种形式支持分支。使用分支意味着你可以把你的工作从开发主线上分离开来，以免影响开发主线。Git处理分支的方式可谓是难以置信的轻量，创建新分支这一操作几乎能在瞬间完成，并且在不同分支之间的切换操作也是一样便捷。与许多其它版本控制系统不同，Git鼓励在工作流程中频繁地使用分支与合并，哪怕一天之内进行许多次。理解和精通这一特性，你便会意识到Git是如此的强大而又独特，并且从此真">
<meta name="keywords" content="Git">
<meta property="og:type" content="article">
<meta property="og:title" content="Git的杀手锏：分支模型（上）">
<meta property="og:url" content="http://www.yingzq.com/2019/10/13/git-branching/index.html">
<meta property="og:site_name" content="yingzq&#39;s Blog">
<meta property="og:description" content="几乎所有的版本控制系统都以某种形式支持分支。使用分支意味着你可以把你的工作从开发主线上分离开来，以免影响开发主线。Git处理分支的方式可谓是难以置信的轻量，创建新分支这一操作几乎能在瞬间完成，并且在不同分支之间的切换操作也是一样便捷。与许多其它版本控制系统不同，Git鼓励在工作流程中频繁地使用分支与合并，哪怕一天之内进行许多次。理解和精通这一特性，你便会意识到Git是如此的强大而又独特，并且从此真">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://image.yingzq.com/img/20191016150929.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191016151756.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191018152124.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191018153630.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191020185042.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191021113753.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191021143629.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191021144113.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191021150106.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191021160941.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191021161457.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191021163741.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191021191514.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191021192025.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191021192515.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191021194612.png">
<meta property="og:image" content="http://image.yingzq.com/img/20191021195914.png">
<meta property="og:updated_time" content="2019-10-22T15:50:22.636Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Git的杀手锏：分支模型（上）">
<meta name="twitter:description" content="几乎所有的版本控制系统都以某种形式支持分支。使用分支意味着你可以把你的工作从开发主线上分离开来，以免影响开发主线。Git处理分支的方式可谓是难以置信的轻量，创建新分支这一操作几乎能在瞬间完成，并且在不同分支之间的切换操作也是一样便捷。与许多其它版本控制系统不同，Git鼓励在工作流程中频繁地使用分支与合并，哪怕一天之内进行许多次。理解和精通这一特性，你便会意识到Git是如此的强大而又独特，并且从此真">
<meta name="twitter:image" content="http://image.yingzq.com/img/20191016150929.png">
    
        <link rel="alternate" type="application/atom+xml" title="yingzq&#39;s Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/avatar.jpg">
    <link rel="stylesheet" href="/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">应子强</h5>
          <a href="mailto:yingzq0116@163.com" title="yingzq0116@163.com" class="mail">yingzq0116@163.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签云
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/about"  >
                <i class="icon icon-lg icon-info-circle"></i>
                关于
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/YingZiqiang" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Git的杀手锏：分支模型（上）</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Git的杀手锏：分支模型（上）</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-10-13T04:11:55.000Z" itemprop="datePublished" class="page-time">
  2019-10-13
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#初识Git分支"><span class="post-toc-number">1.</span> <span class="post-toc-text">初识Git分支</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Git分支简介"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">Git分支简介</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Git分支创建"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">Git分支创建</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Git分支切换"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">Git分支切换</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Git分支新建与合并"><span class="post-toc-number">2.</span> <span class="post-toc-text">Git分支新建与合并</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#分支新建"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">分支新建</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#分支合并"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">分支合并</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#遇到冲突时的分支合并"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">遇到冲突时的分支合并</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Git分支管理"><span class="post-toc-number">3.</span> <span class="post-toc-text">Git分支管理</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#总结"><span class="post-toc-number">4.</span> <span class="post-toc-text">总结</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#参考文献"><span class="post-toc-number">5.</span> <span class="post-toc-text">参考文献</span></a></li></ol>
        </nav>
    </aside>


<article id="post-git-branching"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Git的杀手锏：分支模型（上）</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-10-13 12:11:55" datetime="2019-10-13T04:11:55.000Z"  itemprop="datePublished">2019-10-13</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>几乎所有的版本控制系统都以某种形式支持分支。使用分支意味着你可以把你的工作从开发主线上分离开来，以免影响开发主线。Git处理分支的方式可谓是难以置信的轻量，创建新分支这一操作几乎能在瞬间完成，并且在不同分支之间的切换操作也是一样便捷。与许多其它版本控制系统不同，Git鼓励在工作流程中频繁地使用分支与合并，哪怕一天之内进行许多次。理解和精通这一特性，你便会意识到Git是如此的强大而又独特，并且从此真正改变你的开发方式。</p>
<a id="more"></a>

<blockquote>
<p>正如文章题目，这也是Git能在众多版本控制系统脱颖而出的“杀手锏”</p>
</blockquote>
<h2 id="初识Git分支"><a href="#初识Git分支" class="headerlink" title="初识Git分支"></a>初识Git分支</h2><h3 id="Git分支简介"><a href="#Git分支简介" class="headerlink" title="Git分支简介"></a>Git分支简介</h3><p>在 <a href="/2019/09/18/what-is-git/" title="What is Git">What is Git</a> 中，我们了解到<strong>Git保存的不是文件的变化或者差异，而是一系列不同时刻的文件快照</strong>，这和其他版本控制系统很是不同，那么为什么Git要这样做呢？</p>
<p>在进行提交操作时，Git会保存一个提交对象（commit object）。知道了Git保存数据的方式，我们可以很自然的想到<strong>该提交对象会包含一个指向暂存内容快照的指针</strong>。但不仅仅是这样，<strong>该提交对象还包含了作者的姓名和邮箱、提交时输入的信息以及指向它的父对象的指针</strong>。</p>
<blockquote>
<p>首次提交产生的提交对象没有父对象，普通提交操作产生的提交对象有一个父对象，而由多个分支合并产生的提交对象有多个父对象</p>
</blockquote>
<p>为了更加形象地说明，我们假设现在有一个工作目录，里面包含了三个将要被暂存和提交的文件。暂存操作会为每一个文件计算校验和（使用SHA-1哈希算法），然后会把当前版本的文件快照保存到Git仓库中（Git使用blob对象来保存它们），最终将校验和加入到暂存区域等待提交：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git add README test.rb LICENSE</span><br><span class="line">$ git commit -m &apos;The initial commit of my project&apos;</span><br></pre></td></tr></table></figure>

<p>当使用<code>git commit</code>进行提交操作时，Git会先计算每一个子目录（本例中只有项目根目录）的校验和，然后在Git仓库中这些校验和保存为树对象。随后，Git便会创建一个提交对象，它除了包含上面提到的那些信息外，还包含指向这个树对象（项目根目录）的指针。如此一来，Git就可以在需要的时候重现此次保存的快照。</p>
<p>现在，Git仓库中有五个对象：三个blob对象（保存着文件快照）、一个树对象（记录着目录结构和blob对象索引）以及一个提交对象（包含着指向前述树对象的指针和所有提交信息）。</p>
<div align="center">
<img src="http://image.yingzq.com/img/20191016150929.png" width="750" alt="首次提交对象及其树结构">

<p>图1：首次提交对象及其树结构</p>
</div>

<p>如果做些修改后再次提交，那么这次产生的提交对象会包含一个指向上次提交对象（父对象）的指针。</p>
<div align="center">
<img src="http://image.yingzq.com/img/20191016151756.png" width="750" alt="提交对象及其父对象">

<p>图2：提交对象及其父对象</p>
</div>

<p><strong>Git的分支，其实本质上仅仅是指向提交对象的轻量级可移动指针。</strong>Git的默认分支名字是<code>master</code>。在多次提交操作之后，你其实已经有一个指向最后那个提交对象的<code>master</code>分支。它会在每次的提交操作中自动向前移动。</p>
<blockquote>
<p>Git的<code>master</code>分支并不是一个特殊分支。它就跟其它分支完全没有区别。之所以几乎每一个仓库都有<code>master</code>分支，是因为<code>git init</code>命令默认创建它，并且大多数人都懒得去改动它。</p>
</blockquote>
<div align="center">
<img src="http://image.yingzq.com/img/20191018152124.png" width="750" alt="分支及其提交历史">

<p>图3：分支及其提交历史</p>
</div>

<h3 id="Git分支创建"><a href="#Git分支创建" class="headerlink" title="Git分支创建"></a>Git分支创建</h3><p>Git创建新分支很简单，因为Git只是为你创建了一个可以移动的新的指针。例如创建一个<code>testing</code>分支，你需要使用<code>git branch</code>命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git branch testing</span><br></pre></td></tr></table></figure>

<p>这会在当前所在的提交对象上创建一个指针。</p>
<div align="center">
<img src="http://image.yingzq.com/img/20191018153630.png" width="750" alt="两个指向相同提交历史的分支">

<p>图4：两个指向相同提交历史的分支</p>
</div>

<p>那么，Git又是怎么知道当前在哪一个分支上呢？也很简单，它有一个名为<code>HEAD</code>的特殊指针。请注意它和许多其它版本控制系统（如Subversion或CVS）里的<code>HEAD</code>概念完全不同。在Git中，它是一个指针，指向当前所在的本地分支。在本例中，你仍然在<code>master</code>分支上。 <strong>因为<code>git branch</code>命令仅仅创建一个新分支，并不会自动切换到新分支中去</strong>。</p>
<div align="center">
<img src="http://image.yingzq.com/img/20191020185042.png" width="750" alt="HEAD指向当前所在的分支">

<p>图5：HEAD指向当前所在的分支</p>
</div>

<p>你可以简单地使用<code>git log</code>命令查看各个分支当前所指的对象。提供这一功能的参数是<code>--decorate</code>。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git log --oneline --decorate</span><br><span class="line">f30ab (HEAD -&gt; master, testing) add feature #32 - ability to add new</span><br><span class="line">34ac2 fixed bug #1328 - stack overflow under certain conditions</span><br><span class="line">98ca9 initial commit of my project</span><br></pre></td></tr></table></figure>

<p>可以看到，当前 “master” 和 “testing” 分支均指向校验和以<code>f30ab</code>开头的提交对象。</p>
<h3 id="Git分支切换"><a href="#Git分支切换" class="headerlink" title="Git分支切换"></a>Git分支切换</h3><p>要切换到一个已存在的分支，你需要使用<code>git checkout</code>命令。我们现在切换到新创建的<code>testing</code>分支去：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git checkout testing</span><br></pre></td></tr></table></figure>

<p>这样<code>HEAD</code>就指向<code>testing</code>分支了。</p>
<div align="center">
<img src="http://image.yingzq.com/img/20191021113753.png" width="750" alt="HEAD指向当前所在的分支">

<p>图6：HEAD指向当前所在的分支</p>
</div>

<p>那么，这样的实现方式会给我们带来什么好处呢？现在不妨再提交一次：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ vim test.rb</span><br><span class="line">$ git commit -a -m &apos;made a change&apos;</span><br></pre></td></tr></table></figure>

<div align="center">
<img src="http://image.yingzq.com/img/20191021143629.png" width="800" alt="HEAD分支随着提交操作自动向前移动">

<p>图7：HEAD分支随着提交操作自动向前移动</p>
</div>

<p>这就有意思了，你的<code>testing</code>分支向前移动了，但是<code>master</code>分支却没有，它仍然指向运行<code>git checkout</code>时所指的对象。现在我们切换回 master 分支看看：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git checkout master</span><br></pre></td></tr></table></figure>

<div align="center">
<img src="http://image.yingzq.com/img/20191021144113.png" width="800" alt="检出时HEAD随之移动">

<p>图8：检出时HEAD随之移动</p>
</div>

<p>这条命令做了两件事。一是使<code>HEAD</code>指回<code>master</code>分支，二是将工作目录恢复成<code>master</code>分支所指向的快照内容。也就是说，你现在做修改的话，项目将始于一个较旧的版本。本质上来讲，这就是忽略<code>testing</code>分支所做的修改，以便于向另一个方向进行开发。</p>
<blockquote>
<p><strong>注意：分支切换会改变你工作目录中的文件</strong><br>在切换分支时，一定要注意你工作目录里的文件会被改变。如果是切换到一个较旧的分支，你的工作目录会恢复到该分支最后一次提交时的样子。如果Git不能干净利落地完成这个任务，它将禁止切换分支。</p>
</blockquote>
<p>我们不妨再稍微做些修改并提交：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ vim test.rb</span><br><span class="line">$ git commit -a -m &apos;made other changes&apos;</span><br></pre></td></tr></table></figure>

<p>现在，这个项目的提交历史已经产生了分叉。因为刚才你创建了一个新分支，并切换过去进行了一些工作，随后又切换回<code>master</code>分支进行了另外一些工作。上述两次改动针对的是不同分支：你可以在不同分支间不断地来回切换和工作，并在时机成熟时将它们合并起来。而所有这些工作，你需要的命令只有<code>branch</code>、<code>checkout</code>和<code>commit</code>。</p>
<div align="center">
<img src="http://image.yingzq.com/img/20191021150106.png" width="800" alt="项目分叉历史">

<p>图9：项目分叉历史</p>
</div>

<p>你可以简单地使用<code>git log</code>命令查看分叉历史。运行<code>git log --oneline --decorate --graph --all</code>，它会输出你的提交历史、各个分支的指向以及项目的分支分叉情况。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git log --oneline --decorate --graph --all</span><br><span class="line">* c2b9e (HEAD -&gt; master) made other changes</span><br><span class="line">| * 87ab2 (testing) made a change</span><br><span class="line">|/</span><br><span class="line">* f30ab add feature #32 - ability to add new formats to the</span><br><span class="line">* 34ac2 fixed bug #1328 - stack overflow under certain conditions</span><br><span class="line">* 98ca9 initial commit of my project</span><br></pre></td></tr></table></figure>

<p>由于Git的分支实质上仅是包含所指对象校验和（长度为40的SHA-1值字符串）的文件，所以它的创建和销毁都异常高效。创建一个新分支就相当于往一个文件中写入41个字节（40个字符和1个换行符），如此的简单能不快吗？</p>
<p>这与过去大多数版本控制系统形成了鲜明的对比，它们在创建分支时，将所有的项目文件都复制一遍，并保存到一个特定的目录。完成这样繁琐的过程通常需要好几秒钟，有时甚至需要好几分钟。所需时间的长短，完全取决于项目的规模。<strong>而在Git中，任何规模的项目都能在瞬间创建新分支。</strong> 同时，由于每次提交都会记录父对象，所以寻找恰当的合并基础（即共同祖先）也是同样的简单和高效。这些高效的特性使得Git鼓励开发人员频繁地创建和使用分支。</p>
<p>接下来，让我们看看你为什么应该这样做。</p>
<blockquote>
<p><strong>注意：Git可以创建分支并同时切换到该分支</strong><br>创建一个分支并希望同时切换到该分支是很常见的，这可以通过<code>git checkout -b &lt;newbranchname&gt;</code>一条命令即可完成！</p>
</blockquote>
<h2 id="Git分支新建与合并"><a href="#Git分支新建与合并" class="headerlink" title="Git分支新建与合并"></a>Git分支新建与合并</h2><p>让我们来看一个简单的Git分支新建与合并的例子，实际工作中你可能会用到类似的工作流。你将经历如下步骤：</p>
<ol>
<li>开发某个网站。</li>
<li>为实现某个新的需求，创建一个分支。</li>
<li>在这个分支上开展工作。</li>
</ol>
<p>正在此时，你突然接到一个电话说有个很严重的问题需要紧急修补。你将按照如下方式来处理：</p>
<ol>
<li>切换到你的线上分支（production branch）。</li>
<li>为这个紧急任务新建一个分支，并在其中修复它。</li>
<li>在测试通过之后，切换回线上分支，然后合并这个修补分支，最后将改动推送到线上分支。</li>
<li>切换回你最初工作的分支上，继续工作。</li>
</ol>
<h3 id="分支新建"><a href="#分支新建" class="headerlink" title="分支新建"></a>分支新建</h3><p>首先，我们假设你正在你的项目上工作，并且已经有一些提交。</p>
<div align="center">
<img src="http://image.yingzq.com/img/20191021160941.png" width="750" alt="一个简单提交历史">

<p>图10：一个简单提交历史</p>
</div>

<p>现在，你已经决定要解决你的公司使用的问题追踪系统中的 #53 问题。想要新建一个分支并同时切换到那个分支上，你可以运行一个带有<code>-b</code>参数的<code>git checkou</code>命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git checkout -b iss53</span><br><span class="line">Switched to a new branch &quot;iss53&quot;</span><br></pre></td></tr></table></figure>

<p>它是下面两条命令的简写：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git branch iss53</span><br><span class="line">$ git checkout iss53</span><br></pre></td></tr></table></figure>

<div align="center">
<img src="http://image.yingzq.com/img/20191021161457.png" width="750" alt="创建一个新分支指针">

<p>图11：创建一个新分支指针</p>
</div>

<p>你继续在 #53 问题上工作，并且做了一些提交。在此过程中，<code>iss53</code>分支在不断的向前推进，因为你已经检出到该分支（也就是说，你的<code>HEAD</code>指针指向了<code>iss53</code>分支）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ vim index.html</span><br><span class="line">$ git commit -a -m &apos;added a new footer [issue 53]&apos;</span><br></pre></td></tr></table></figure>

<div align="center">
<img src="http://image.yingzq.com/img/20191021163741.png" width="750" alt="iss53分支随着工作的进展向前推进">

<p>图12：iss53分支随着工作的进展向前推进</p>
</div>

<p>现在你接到那个电话，有个紧急问题等待你来解决。有了Git的帮助，你不必把这个紧急问题和<code>iss53</code>的修改混在一起，你也不需要花大力气来还原关于 53# 问题的修改，然后再添加关于这个紧急问题的修改，最后将这个修改提交到线上分支。你所要做的仅仅是切换回<code>master</code>分支！</p>
<p>但是，在你这么做之前，<strong>要留意你的工作目录和暂存区里那些还没有被提交的修改，它可能会和你即将检出的分支产生冲突从而阻止Git切换到该分支</strong>。最好的方法是，在你切换分支之前，保持好一个干净的状态。有一些方法可以绕过这个问题，即保存进度（stashing）和修补提交（commit amending）。</p>
<p>现在，我们假设你已经把你的修改全部提交了，这时你可以切换回<code>master</code>分支了：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">Switched to branch &apos;master&apos;</span><br></pre></td></tr></table></figure>

<p>这个时候，你的工作目录和你在开始 #53 问题之前一模一样，现在你可以专心修复紧急问题了。请牢记：<strong>当你切换分支的时候，Git会重置你的工作目录，使其看起来像回到了你在那个分支上最后一次提交的样子。Git会自动添加、删除、修改文件以确保此时你的工作目录和这个分支最后一次提交时的样子一模一样。</strong></p>
<p>接下来，你要修复这个紧急问题。让我们建立一个针对该紧急问题的分支（hotfix branch），在该分支上工作直到问题解决：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git checkout -b hotfix</span><br><span class="line">Switched to a new branch &apos;hotfix&apos;</span><br><span class="line">$ vim index.html</span><br><span class="line">$ git commit -a -m &apos;fixed the broken email address&apos;</span><br><span class="line">[hotfix 1fb7853] fixed the broken email address</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br></pre></td></tr></table></figure>

<div align="center">
<img src="http://image.yingzq.com/img/20191021191514.png" width="750" alt="基于master分支的紧急问题分支hotfix branch">

<p>图13：基于master分支的紧急问题分支hotfix branch</p>
</div>

<p>你可以运行你的测试，确保你的修改是正确的，然后将其合并回你的<code>master</code>分支来部署到线上。你可以使用<code>git merge</code>命令来达到上述目的：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">$ git merge hotfix</span><br><span class="line">Updating f42c576..3a0874c</span><br><span class="line">Fast-forward</span><br><span class="line"> index.html | 2 ++</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br></pre></td></tr></table></figure>

<p>在合并的时候，你应该注意到了“快进（fast-forward）”这个词。由于当前<code>master</code>分支所指向的提交是你当前提交（有关<code>hotfix</code>的提交）的直接上游，所以Git只是简单的将指针向前移动。<strong>换句话说，当你试图合并两个分支时，如果顺着一个分支走下去能够到达另一个分支，那么Git在合并两者的时候，只会简单的将指针向前推进（指针右移），因为这种情况下的合并操作没有需要解决的分歧——这就叫做“快进（fast-forward）”。</strong></p>
<div align="center">
<img src="http://image.yingzq.com/img/20191021192025.png" width="750" alt="master被快进到hotfix">

<p>图14：master被快进到hotfix</p>
</div>

<p>关于这个紧急问题的解决方案发布之后，你准备回到被打断之前时的工作中。然而，你应该先删除<code>hotfix</code>分支，因为<code>master</code>分支已经指向了同一个位置，所以你已经不再需要它了。你可以使用带<code>-d</code>选项的<code>git branch</code>命令来删除分支：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git branch -d hotfix</span><br><span class="line">Deleted branch hotfix (3a0874c).</span><br></pre></td></tr></table></figure>

<p>现在你可以切换回你正在工作的分支继续你的工作，也就是针对 #53 问题的那个分支（<code>iss53</code>分支）。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git checkout iss53</span><br><span class="line">Switched to branch &quot;iss53&quot;</span><br><span class="line">$ vim index.html</span><br><span class="line">$ git commit -a -m &apos;finished the new footer [issue 53]&apos;</span><br><span class="line">[iss53 ad82d7a] finished the new footer [issue 53]</span><br><span class="line">1 file changed, 1 insertion(+)</span><br></pre></td></tr></table></figure>

<div align="center">
<img src="http://image.yingzq.com/img/20191021192515.png" width="800" alt="继续在iss53分支上的工作">

<p>图15：继续在iss53分支上的工作</p>
</div>

<p>注意到你在<code>hotfix</code>分支上所做的工作并没有包含到<code>iss53</code>分支中。如果你需要拉取<code>hotfix</code>所做的修改，你可以使用<code>git merge master</code>命令将<code>master</code>分支合并入<code>iss53</code>分支，或者你也可以等到<code>iss53</code>分支完成其使命，再将其合并回<code>master</code>分支。</p>
<h3 id="分支合并"><a href="#分支合并" class="headerlink" title="分支合并"></a>分支合并</h3><p>假设你已经修正了 #53 问题，并且打算将你的工作合并入<code>master</code>分支。为此，你需要合并<code>iss53</code>分支到<code>master</code>分支，这和之前你合并<code>hotfix</code>分支所做的工作差不多。你只需要检出到你想合并入的分支，然后运行<code>git merge</code>命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">Switched to branch &apos;master&apos;</span><br><span class="line">$ git merge iss53</span><br><span class="line">Merge made by the &apos;recursive&apos; strategy.</span><br><span class="line">index.html |    1 +</span><br><span class="line">1 file changed, 1 insertion(+)</span><br></pre></td></tr></table></figure>

<p>这和你之前合并<code>hotfix</code>分支的时候看起来有一点不一样。在这种情况下，你的开发历史从一个更早的地方开始分叉开来（diverged）。因为<code>master</code>分支所在提交并不是<code>iss53</code>分支所在提交的直接祖先，Git不得不做一些额外的工作。出现这种情况的时候，Git会使用两个分支的末端所指的快照（C4和C5）以及这两个分支的工作祖先（C2），做一个简单的三方合并。</p>
<div align="center">
<img src="http://image.yingzq.com/img/20191021194612.png" width="800" alt="一次典型合并中所用到的三个快照">

<p>图16：一次典型合并中所用到的三个快照</p>
</div>

<p><strong>和之前将分支指针向前推进所不同的是，Git将此次三方合并的结果做了一个新的快照并且自动创建一个新的提交指向它。</strong>这个被称作一次合并提交，它的特别之处在于他有不止一个父提交。</p>
<div align="center">
<img src="http://image.yingzq.com/img/20191021195914.png" width="800" alt="一个合并提交">

<p>图17：一个合并提交</p>
</div>

<p>需要指出的是，Git会自行决定选取哪一个提交作为最优的共同祖先，并以此作为合并的基础；这和更加古老的CVS系统或者Subversion（1.5 版本之前）不同，在这些古老的版本管理系统中，用户需要自己选择最佳的合并基础。Git的这个优势使其在合并操作上比其他系统要简单很多。</p>
<p>既然你的修改已经合并进来了，你已经不再需要<code>iss53</code>分支了。现在你可以在任务追踪系统中关闭此项任务，并删除这个分支。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git branch -d iss53</span><br></pre></td></tr></table></figure>

<h3 id="遇到冲突时的分支合并"><a href="#遇到冲突时的分支合并" class="headerlink" title="遇到冲突时的分支合并"></a>遇到冲突时的分支合并</h3><p>有时候合并操作不会如此顺利。如果你在两个不同的分支中，对同一个文件的同一个部分进行了不同的修改，Git就没法干净的合并它们。如果你对 #53 问题的修改和有关<code>hotfix</code>的修改都涉及到同一个文件的同一处，在合并它们的时候就会产生合并冲突：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git merge iss53</span><br><span class="line">Auto-merging index.html</span><br><span class="line">CONFLICT (content): Merge conflict in index.html</span><br><span class="line">Automatic merge failed; fix conflicts and then commit the result.</span><br></pre></td></tr></table></figure>

<p>此时Git做了合并，但是没有自动地创建一个新的合并提交。Git会暂停下来，等待你去解决合并产生的冲突。你可以在合并冲突后的任意时刻使用<code>git status</code>命令来查看那些因包含合并冲突而处于未合并（unmerged）状态的文件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">You have unmerged paths.</span><br><span class="line">  (fix conflicts and run &quot;git commit&quot;)</span><br><span class="line"></span><br><span class="line">Unmerged paths:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)</span><br><span class="line"></span><br><span class="line">    both modified:      index.html</span><br><span class="line"></span><br><span class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span><br></pre></td></tr></table></figure>

<p>任何因包含合并冲突而有待解决的文件，都会以未合并状态标识出来。Git会在有冲突的文件中加入标准的冲突解决标记，这样你可以打开这些包含冲突的文件然后手动解决冲突。出现冲突的文件会包含一些特殊区段，看起来像下面这个样子：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:index.html</span><br><span class="line">&lt;div id=&quot;footer&quot;&gt;contact : email.support@github.com&lt;/div&gt;</span><br><span class="line">=======</span><br><span class="line">&lt;div id=&quot;footer&quot;&gt;</span><br><span class="line"> please contact us at support@github.com</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; iss53:index.html</span><br></pre></td></tr></table></figure>

<p>这表示<code>HEAD</code>所指示的版本（也就是你的<code>master</code>分支所在的位置，因为你在运行<code>merge</code>命令的时候已经检出到了这个分支）在这个区段的上半部分（<code>=======</code>的上半部分），而<code>iss53</code>分支所指示的版本在<code>=======</code>的下半部分。为了解决冲突，你必须选择使用由<code>=======</code>分割的两部分中的一个，或者你也可以自行合并这些内容。例如，你可以通过把这段内容换成下面的样子来解决冲突：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;footer&quot;&gt;</span><br><span class="line">please contact us at email.support@github.com</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>上述的冲突解决方案仅保留了其中一个分支的修改，并且<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>，<code>=======</code>和<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>这些行被完全删除了。在你解决了所有文件里的冲突之后，对每个文件使用<code>git add</code>命令来将其标记为冲突已解决。一旦暂存这些原本有冲突的文件，Git就会将它们标记为冲突已解决。</p>
<p>如果你想使用图形化工具来解决冲突，你可以运行<code>git mergetool</code>，该命令会为你启动一个合适的可视化合并工具，并带领你一步一步解决这些冲突：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git mergetool</span><br><span class="line"></span><br><span class="line">This message is displayed because &apos;merge.tool&apos; is not configured.</span><br><span class="line">See &apos;git mergetool --tool-help&apos; or &apos;git help config&apos; for more details.</span><br><span class="line">&apos;git mergetool&apos; will now attempt to use one of the following tools:</span><br><span class="line">tortoisemerge emerge vimdiff</span><br><span class="line">Merging:</span><br><span class="line">README</span><br><span class="line"></span><br><span class="line">Normal merge conflict for &apos;README&apos;:</span><br><span class="line">  &#123;local&#125;: modified file</span><br><span class="line">  &#123;remote&#125;: modified file</span><br><span class="line">Hit return to start merge resolution tool (vimdiff):</span><br></pre></td></tr></table></figure>

<p>如果你想使用除默认工具（在这里Git使用<code>vimdiff</code>做为默认的合并工具）外的其他合并工具，你可以在“下列工具中（one of the following tools）”这句后面看到所有支持的合并工具。然后输入你喜欢的工具名字就可以了。</p>
<blockquote>
<p>如果你需要更加高级的工具来解决复杂的合并冲突，可以参考 <a href="https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_advanced_merging" target="_blank" rel="noopener">Git Tools - Advanced Merging</a></p>
</blockquote>
<p>等你退出合并工具之后，Git会询问刚才的合并是否成功。如果你回答是，Git会暂存那些文件以表明冲突已解决：你可以再次运行<code>git status</code>来确认所有的合并冲突都已被解决：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">All conflicts fixed but you are still merging.</span><br><span class="line">  (use &quot;git commit&quot; to conclude merge)</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line"></span><br><span class="line">    modified:   index.html</span><br></pre></td></tr></table></figure>

<p>如果你对结果感到满意，并且确定之前有冲突的的文件都已经暂存了，这时你可以输入<code>git commit</code>来完成合并提交。默认情况下提交信息看起来像下面这个样子：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Merge branch &apos;iss53&apos;</span><br><span class="line"></span><br><span class="line">Conflicts:</span><br><span class="line">    index.html</span><br><span class="line">#</span><br><span class="line"># It looks like you may be committing a merge.</span><br><span class="line"># If this is not correct, please remove the file</span><br><span class="line">#	.git/MERGE_HEAD</span><br><span class="line"># and try again.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Please enter the commit message for your changes. Lines starting</span><br><span class="line"># with &apos;#&apos; will be ignored, and an empty message aborts the commit.</span><br><span class="line"># On branch master</span><br><span class="line"># All conflicts fixed but you are still merging.</span><br><span class="line">#</span><br><span class="line"># Changes to be committed:</span><br><span class="line">#	modified:   index.html</span><br><span class="line">#</span><br></pre></td></tr></table></figure>

<p>如果你觉得上述的信息不够充分，不能完全体现分支合并的过程，你可以修改上述信息，添加一些细节给未来检视这个合并的读者一些帮助，告诉他们你是如何解决合并冲突的，以及理由是什么。</p>
<h2 id="Git分支管理"><a href="#Git分支管理" class="headerlink" title="Git分支管理"></a>Git分支管理</h2><p>现在已经创建、合并、删除了一些分支，让我们看看一些常用的分支管理工具。</p>
<p><code>git branch</code>命令不只是可以创建与删除分支。如果不加任何参数运行它，会得到当前所有分支的一个列表：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">  iss53</span><br><span class="line">* master</span><br><span class="line">  testing</span><br></pre></td></tr></table></figure>

<p>注意<code>master</code>分支前的<code>*</code>字符：它代表现在检出的那一个分支（也就是说，当前<code>HEAD</code>指针所指向的分支）。这意味着如果在这时候提交，<code>master</code>分支将会随着新的工作向前移动。如果需要查看每一个分支的最后一次提交，可以运行<code>git branch -v</code>命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git branch -v</span><br><span class="line">  iss53   93b412c fix javascript issue</span><br><span class="line">* master  7a98805 Merge branch &apos;iss53&apos;</span><br><span class="line">  testing 782fd34 add scott to the author list in the readmes</span><br></pre></td></tr></table></figure>

<p><code>--merged</code>与<code>--no-merged</code>这两个有用的选项可以过滤这个列表中已经合并或尚未合并到当前分支的分支。如果要查看哪些分支已经合并到当前分支，可以运行<code>git branch --merged</code>：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git branch --merged</span><br><span class="line">  iss53</span><br><span class="line">* master</span><br></pre></td></tr></table></figure>

<p>因为之前已经合并了<code>iss53</code>分支，所以现在看到它在列表中。在这个列表中分支名字前没有<code>*</code>号的分支通常可以使用<code>git branch -d</code>删除掉；你已经将它们的工作整合到了另一个分支，所以并不会失去任何东西。</p>
<p>查看所有包含未合并工作的分支，可以运行<code>git branch --no-merged</code>：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git branch --no-merged</span><br><span class="line">  testing</span><br></pre></td></tr></table></figure>

<p>这里显示了其他分支。因为它包含了还未合并的工作，尝试使用<code>git branch -d</code>命令删除它时会失败：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git branch -d testing</span><br><span class="line">error: The branch &apos;testing&apos; is not fully merged.</span><br><span class="line">If you are sure you want to delete it, run &apos;git branch -D testing&apos;.</span><br></pre></td></tr></table></figure>

<p>如果真的想要删除分支并丢掉那些工作，如同帮助信息里所指出的，可以使用<code>-D</code>选项强制删除它。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>到这里我们已经初步了解了Git分支的基本原理和优良特征，同时也学会了Git分支新建和合并的基本操作，难以置信的轻量分支模型也正是Git在众多版本控制系统中脱颖而出的杀手锏！</p>
<p>但是至此关于Git分支的内容还未结束，我们还没充分了解到Git分支的工作流、Git远程分支等内容，限于篇幅将在 <a href="/2019/10/16/git-branching-part-two/" title="Git的杀手锏：分支模型（下）">Git的杀手锏：分支模型（下）</a>继续讲解。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li><a href="https://git-scm.com/book/en/v2" target="_blank" rel="noopener">Pro Git Book</a></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2019-10-22T15:50:22.636Z" itemprop="dateUpdated">2019-10-22 23:50:22</time>
</span><br>


        
        若有疑问或者本人有写的不对的地方, 欢迎留言反馈, 非常感谢您的阅读~
        
    </div>
    
    <footer>
        <a href="http://www.yingzq.com">
            <img src="/img/avatar.jpg" alt="应子强">
            应子强
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.yingzq.com/2019/10/13/git-branching/&title=《Git的杀手锏：分支模型（上）》 — yingzq's Blog&pic=http://www.yingzq.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.yingzq.com/2019/10/13/git-branching/&title=《Git的杀手锏：分支模型（上）》 — yingzq's Blog&source=几乎所有的版本控制系统都以某种形式支持分支。使用分支意味着你可以把你的工作从开发主线上分离开来，以免影响开发主线。Git处理分支的方式可谓是难以置信的轻量..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.yingzq.com/2019/10/13/git-branching/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Git的杀手锏：分支模型（上）》 — yingzq's Blog&url=http://www.yingzq.com/2019/10/13/git-branching/&via=http://www.yingzq.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.yingzq.com/2019/10/13/git-branching/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2019/10/16/git-branching-part-two/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Git的杀手锏：分支模型（下）</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2019/10/01/git-basics/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">请务必掌握的Git基础</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'false' == 'true',
            appId: "mGqkrgTscxf4JdcqkEHkFCfs-gzGzoHsz",
            appKey: "PwU9oOfhNnWOKaMaOTqQpiNW",
            avatar: "mm",
            placeholder: "要不要说点什么？",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->










</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>应子强 &copy; 2015 - 2019</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">京ICP备19041830号</a><br>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.yingzq.com/2019/10/13/git-branching/&title=《Git的杀手锏：分支模型（上）》 — yingzq's Blog&pic=http://www.yingzq.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.yingzq.com/2019/10/13/git-branching/&title=《Git的杀手锏：分支模型（上）》 — yingzq's Blog&source=几乎所有的版本控制系统都以某种形式支持分支。使用分支意味着你可以把你的工作从开发主线上分离开来，以免影响开发主线。Git处理分支的方式可谓是难以置信的轻量..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.yingzq.com/2019/10/13/git-branching/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Git的杀手锏：分支模型（上）》 — yingzq's Blog&url=http://www.yingzq.com/2019/10/13/git-branching/&via=http://www.yingzq.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.yingzq.com/2019/10/13/git-branching/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACK0lEQVR42u3aQY7DIBAEwPz/01lpr1Gcbsa7UqB8iiIbUz6MBprHI76ev9frP/l1/ezr/4+/uDAwML6Wkbz+eiqv91xP8Xqi10+9HQEDA+MAxmS4d8jJ+PmzGBgYGO3vpNW7LrsYGBgY84Lb3tlSMTAwMCaL2Hahe70n1rJvW4tjYGB8IaMNBv7z9x/mGxgYGF/CWIshJ5v+eYRZzAoDA2NrxnU8mTd2a03efIkbnQfBwMA4gJFvuuXgPAZIIlIMDIy9GWvHs+4NBqJN/7VkAwMDYyNGMsW2sUtKZ77d/+FDYGBgHMko+sq4HK8dDit6WwwMjK0Z7YI2ecEkTmjvxMDAOIeRl9d5hLB2UuLt+BgYGAcw1jB5sZ40ndHIGBgYBzDuLZFtQ9l+LAwMjDMZSbFrN+ba4xST+zEwME5gtFFBi7kuxHmBfvtGDAyMAxiTYtremRfWYgsPAwPjAMZaADkPCZJyH5VyDAyMrRlr2/2TeGB+ICMq7hgYGBsx1pq/vKXLY4a1t2NgYJzDSDa8koMUa6FCMuaHthIDA2Nrxl0xZI5vD3bUC1cMDIztGM/yahu7pIC2jWCRb2BgYGzBmMSNedlty3cbV2BgYJzASIpsfmyr3YxLwoAohMDAwDiA0RbZuzb6J0W/OOuBgYFxDKMtvvmhikmcgIGBgZH/bhelkwL9IY/FwMDYlJGUuXwS8239+pAHBgbG1owbFpDlojdfALefFQMDYzvGD66k2xnTODkBAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="/js/main.min.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.7.2" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '快回来练习bug!';
            clearTimeout(titleTime);
        } else {
            document.title = 'yingzq's Blog';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
